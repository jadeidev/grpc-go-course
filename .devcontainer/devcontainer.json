// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/go
{
	"name": "Go",
	// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
	"image": "mcr.microsoft.com/devcontainers/go:1-1.22-bookworm",
	"features": {
		"ghcr.io/devcontainers-contrib/features/protoc:1": {}
 },
 "customizations": {
  "vscode": {
   "extensions": [
    "bufbuild.vscode-buf",
    "golang.go",
    "eamodio.gitlens",
    "mrmlnc.vscode-duplicate",
    "ms-toolsai.jupyter",
    "Gruntfuggly.todo-tree",
    "ephoton.indent-switcher",
    "wmaurer.change-case",
    "mhutchie.git-graph",
    "charliermarsh.ruff",
    "oderwat.indent-rainbow",
    "ms-python.python",
    "GitHub.copilot"
   ]
  }
 },

	// Features to add to the dev container. More info: https://containers.dev/features.
	// "features": {},

	// Use 'forwardPorts' to make a list of ports inside the container available locally.
	// "forwardPorts": [],

	// Use 'postCreateCommand' to run commands after the container is created.
	"postCreateCommand": "BIN=/usr/local/bin && LATEST_VERSION=$(curl -s https://api.github.com/repos/bufbuild/buf/releases/latest | grep 'tag_name' | cut -d '\"' -f 4) && sudo curl -sSL \"https://github.com/bufbuild/buf/releases/download/${LATEST_VERSION}/buf-$(uname -s)-$(uname -m)\" -o \"${BIN}/buf\" && sudo chmod +x \"${BIN}/buf\""

	// Configure tool-specific properties.
	// "customizations": {},

	// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
	// "remoteUser": "root"
}